{% extends 'base.html.twig' %}

{% block title %}{{ session.nomSession }}{% endblock %}

{% block body %}
    <h1 class="titresecondaire">{{ session.nomSession | upper }}</h1>

    <div class="addprogsession addstagiaire">
        <button type="submit" class="bouton bouton1" onclick="openPopup()" >Ajouter un stagiaire à la session</button>
    </div>
    <div class="stagiairepopupContainer" >
        <div class="stagiairepopup" id="popup">
            <p class="close" onclick="closePopup()"><img src="{{ asset('img/croix.png') }}" alt="croix"></p>
            <h2>Selectionnez un stagiaire à ajouter en session</h2>

            <form action="{{ path('add_stagiaire_to_session', {'id':session.getId }) }}" method="POST">
                <select name="stagiaire" id="stagiaire_id">
                    {% for stagiaire in stagiaires %}
                        <option value="{{ stagiaire.getId }}">{{ stagiaire }}</option>
                    {% endfor %}
                </select>

                <input class="bouton" type="submit" value="Ajouter" name="submit">
            </form>
        </div>
    </div>


    <div class="sessionContainer">
        <div class="sessions">
            <div class="tabname modulehead">
                <p class="titretabname wmodule">Module</p>
                <div class="pipe"></div>
                <p class="tabnametitre wduree">Durée</p>
            </div>

            <div class="listSessionContainer listModule">
                {% for programme in programmes %}
                
                <div class="session modules">
                    <p class="titretabname wmodule1">{{ programme.getModule.nomModule }}</p>
                    <div class="pipe"></div>
                    <p class="tabnametitre wduree1">{{ programme.duree }} jours</p>
                </div>

            {% endfor %}
            </div>
        </div>
    </div>

    
    <div class="stagiaireContainer sessionContainer"> 
        <div class="sessions">
            <div class="tabname modulehead">
                <p class="titretabname wstagiaire">Stagiaires inscrits</p>
            </div>
            <div class="listSessionContainer listModule">
                {% for stagiaire in stagiairesInscrit %}
                    <div class="session modules">
                    <p class="titretabname wmodule1">{{ stagiaire }}</p>
                    <div class="pipe"></div>
                    <a class="tabnametitre wduree1" href="{{ path('remove_stagiaire_from_session', {'idSession':session.getId,'idStagiaire':stagiaire.getId}) }}"><img class="croix" src="{{ asset("img/croix.png") }}" alt="croix"></a>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}